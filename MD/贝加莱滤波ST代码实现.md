> 在工作中，有一个需求是实现贝加莱的滤波算法，但是有个问题是贝加莱的代码没有放出来，只有如何调用FB，在此特以HCRDT1、HCRDT2、HCRPT三个例子来说一下怎么从传递函数推递推公式。

## 1、HCRPT1

这个是三个中最简单的，给出的递推公式是
$$
G(s) =\frac{V}{(1+T_1*s)}
$$
要将这个传递函数转换成递推公式，使用双线性变换
$$
s=\frac{2}{T} * \frac{Z-1}{Z+1}
$$

$$
G(s) =\frac{V}{(1+T_1*s)} = \frac{V}{1+T_1*\frac{2}{T} * \frac{Z-1}{Z+1}}
=\frac{V}{1+\frac{2*T_1}{T} * \frac{Z-1}{Z+1}}\\
=\frac{Z+1}{\frac{1}{V}*(Z+1)+\frac{2*T_1}{V*T}*(z-1)} = \frac{Z+1}{(\frac{1}{V}+\frac{2*T_1}{V*T})*Z+\frac{1}{V}-\frac{2*T_1}{V*T}}\\
=\frac{Z+1}{\frac{1}{V}*(1+\frac{2*T_1}{T})*Z+\frac{1}{V}*(1-\frac{2*T_1}{T})}
$$

其中，令$P=2*T_1/T$
$$
原式=\frac{Y(z)}{X(z)}=\frac{Z+1}{\frac{1}{V}*(1+P)*Z+\frac{1}{V}*(1-P)}=\frac{V*(Z+1)}{(1+P)*Z+1-P}\\
Y(z)*[(1+P)*Z+1-P] = X(z)*V*(Z+1)\\
Y(z)*[1+P+(1-P)*Z^{-1}]=X(z)*V*(1+Z*{-1})\\
Y(z)*[1+\frac{1-P}{1+P}*Z^{-1}]=X(z)*V*(1+z^{-1})*\frac{1}{1+P}
$$
其中，令$$